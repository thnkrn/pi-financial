SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE WHERE (REFERENCED_TABLE_NAME = 'portfolio_mutual_fund_daily_snapshot' AND REFERENCED_TABLE_SCHEMA = 'portfolio_summary_db' AND REFERENCED_COLUMN_NAME = 'currency') OR (TABLE_NAME = 'portfolio_mutual_fund_daily_snapshot' AND TABLE_SCHEMA = 'portfolio_summary_db' AND COLUMN_NAME = 'currency' AND REFERENCED_TABLE_NAME IS NOT NULL);
ALTER TABLE `portfolio_mutual_fund_daily_snapshot` DROP `currency`;
SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'SequelizeMeta' AND TABLE_SCHEMA = 'portfolio_summary_db';
SHOW INDEX FROM `SequelizeMeta`;
DELETE FROM `SequelizeMeta` WHERE `name` = '20250326024810-add-column-currency-in-mutual-fund.js';
