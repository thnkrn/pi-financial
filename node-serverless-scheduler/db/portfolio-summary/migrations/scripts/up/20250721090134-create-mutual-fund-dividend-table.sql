ALTER TABLE `portfolio_global_equity_dividend_daily_snapshot` ADD INDEX `idx_ge_dividend_daily_snapshot_datekey_custcode` (`date_key`, `custcode`);
CREATE TABLE IF NOT EXISTS `portfolio_mutual_fund_dividend_daily_transaction` (`id` CHAR(36) BINARY NOT NULL , `date_key` DATE NOT NULL, `custcode` VARCHAR(10) NOT NULL, `trading_account_no` VARCHAR(20) NOT NULL, `fund_code` VARCHAR(50) CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_bin' NOT NULL, `amccode` VARCHAR(50), `payment_date` DATE NOT NULL, `book_closed_date` DATE NOT NULL, `unit` DECIMAL(19,9) NOT NULL, `dividend_rate` DECIMAL(19,9) NOT NULL, `dividend_amount` DECIMAL(19,9) NOT NULL, `witholding_tax` DECIMAL(19,9), `dividend_amount_net` DECIMAL(19,9), `payment_type_description` VARCHAR(50), `bank_name` VARCHAR(50), `bank_account` VARCHAR(20), `created_at` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
ALTER TABLE `portfolio_mutual_fund_dividend_daily_transaction` ADD UNIQUE INDEX `idx_mf_dividend_daily_tx_unique` (`date_key`, `trading_account_no`, `fund_code`, `payment_date`, `bank_account`);
ALTER TABLE `portfolio_mutual_fund_dividend_daily_transaction` ADD INDEX `idx_mf_dividend_daily_tx_custcode_datekey` (`custcode`, `date_key`);
SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'SequelizeMeta' AND TABLE_SCHEMA = 'portfolio_summary_db';
SHOW INDEX FROM `SequelizeMeta`;\nINSERT INTO `SequelizeMeta` (`name`) VALUES ('20250721090134-create-mutual-fund-dividend-table.js');
